/* jQuery Form Styler v1.4.2 | (c) Dimox | https://github.com/Dimox/jQueryFormStyler */
(function(f){f.fn.styler=function(p){p=f.extend({idSuffix:"-styler",filePlaceholder:"\u0424\u0430\u0439\u043b \u043d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d",browseText:"\u041e\u0431\u0437\u043e\u0440...",selectVisibleOptions:0,singleSelectzIndex:"100",selectSmartPositioning:!0},p);return this.each(function(){var a=f(this),q="",s="",u="",t="";void 0!==a.attr("id")&&""!=a.attr("id")&&(q=' id="'+a.attr("id")+p.idSuffix+'"');void 0!==a.attr("class")&&""!=a.attr("class")&&(s=" "+a.attr("class"));void 0!==
a.attr("title")&&""!=a.attr("title")&&(u=' title="'+a.attr("title")+'"');var v=a.data(),c;for(c in v)""!=v[c]&&(t+=" data-"+c+'="'+v[c]+'"');q+=t;a.is(":checkbox")?a.each(function(){if(1>a.parent("div.jq-checkbox").length){var b=f("<div"+q+' class="jq-checkbox'+s+'"'+u+'><div class="jq-checkbox__div"></div></div>');a.css({position:"absolute",zIndex:"-1",opacity:0,margin:0,padding:0}).after(b).prependTo(b);b.attr("unselectable","on").css({"-webkit-user-select":"none","-moz-user-select":"none","-ms-user-select":"none",
"-o-user-select":"none","user-select":"none",display:"inline-block",position:"relative",overflow:"hidden"});a.is(":checked")&&b.addClass("checked");a.is(":disabled")&&b.addClass("disabled");b.click(function(){b.is(".disabled")||(a.is(":checked")?(a.prop("checked",!1),b.removeClass("checked")):(a.prop("checked",!0),b.addClass("checked")),a.change());return!1});a.closest("label").add('label[for="'+a.attr("id")+'"]').click(function(a){b.click();a.preventDefault()});a.change(function(){a.is(":checked")?
b.addClass("checked"):b.removeClass("checked")}).keydown(function(a){13!=a.which&&32!=a.which||b.click()}).focus(function(){b.is(".disabled")||b.addClass("focused")}).blur(function(){b.removeClass("focused")}).on("refresh",function(){a.is(":checked")?b.addClass("checked"):b.removeClass("checked");a.is(":disabled")?b.addClass("disabled"):b.removeClass("disabled")})}}):a.is(":radio")?a.each(function(){if(1>a.parent("div.jq-radio").length){var b=f("<div"+q+' class="jq-radio'+s+'"'+u+'><div class="jq-radio__div"></div></div>');
a.css({position:"absolute",zIndex:"-1",opacity:0,margin:0,padding:0}).after(b).prependTo(b);b.attr("unselectable","on").css({"-webkit-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","-o-user-select":"none","user-select":"none",display:"inline-block",position:"relative"});a.is(":checked")&&b.addClass("checked");a.is(":disabled")&&b.addClass("disabled");b.click(function(){b.is(".disabled")||(b.closest("form").find('input[name="'+a.attr("name")+'"]').prop("checked",!1).parent().removeClass("checked"),
a.prop("checked",!0).parent().addClass("checked"),a.change());return!1});a.closest("label").add('label[for="'+a.attr("id")+'"]').click(function(a){b.click();a.preventDefault()});a.change(function(){a.parent().addClass("checked")}).focus(function(){b.is(".disabled")||b.addClass("focused")}).blur(function(){b.removeClass("focused")}).on("refresh",function(){a.is(":checked")?(f('input[name="'+a.attr("name")+'"]').parent().removeClass("checked"),b.addClass("checked")):b.removeClass("checked");a.is(":disabled")?
b.addClass("disabled"):b.removeClass("disabled")})}}):a.is(":file")?a.css({position:"absolute",top:0,right:0,width:"100%",height:"100%",opacity:0,margin:0,padding:0}).each(function(){if(1>a.parent("div.jq-file").length){var b=f("<div"+q+' class="jq-file'+s+'" style="display: inline-block; position: relative; overflow: hidden"></div>'),c=f('<div class="jq-file__name">'+p.filePlaceholder+"</div>").appendTo(b);f('<div class="jq-file__browse">'+p.browseText+"</div>").appendTo(b);a.after(b);b.append(a);
a.is(":disabled")&&b.addClass("disabled");a.change(function(){c.text(a.val().replace(/.+[\\\/]/,""))}).focus(function(){b.addClass("focused")}).blur(function(){b.removeClass("focused")}).click(function(){b.removeClass("focused")}).on("refresh",function(){a.is(":disabled")?b.addClass("disabled"):b.removeClass("disabled")})}}):a.is("select")&&a.each(function(){if(1>a.next("div.jqselect").length){var b=function(){function b(a){a.unbind("mousewheel DOMMouseScroll").bind("mousewheel DOMMouseScroll",function(a){var e=
null;"mousewheel"==a.type?e=-1*a.originalEvent.wheelDelta:"DOMMouseScroll"==a.type&&(e=40*a.originalEvent.detail);e&&(a.preventDefault(),f(this).scrollTop(e+f(this).scrollTop()))})}function t(){c=0;for(len=h.length;c<len;c++){var a="",b="",f=a="",g="",d="";h.eq(c).prop("selected")&&(b="selected sel");h.eq(c).is(":disabled")&&(b="disabled");h.eq(c).is(":selected:disabled")&&(b="selected sel disabled");void 0!==h.eq(c).attr("class")&&(f=" "+h.eq(c).attr("class"),d=' data-jqfs-class="'+h.eq(c).attr("class")+
'"');var k=h.eq(c).data(),l;for(l in k)""!=k[l]&&(a+=" data-"+l+'="'+k[l]+'"');a="<li"+d+a+' class="'+b+f+'">'+h.eq(c).text()+"</li>";h.eq(c).parent().is("optgroup")&&(void 0!==h.eq(c).parent().attr("class")&&(g=" "+h.eq(c).parent().attr("class")),a="<li"+d+' class="'+b+f+" option"+g+'">'+h.eq(c).text()+"</li>",h.eq(c).is(":first-child")&&(a='<li class="optgroup'+g+'">'+h.eq(c).parent().attr("label")+"</li>"+a));w+=a}}function v(){var e=f("<div"+q+' class="jq-selectbox jqselect'+s+'" style="display: inline-block; position: relative; z-index:'+
p.singleSelectzIndex+'"><div class="jq-selectbox__select"'+u+'><div class="jq-selectbox__select-text"></div><div class="jq-selectbox__trigger"><div class="jq-selectbox__trigger-arrow"></div></div></div></div>');a.css({margin:0,padding:0}).wrap('<div class="jq-selectbox-wrapper" style="display: inline-block; position: relative;"></div>').after(e);var c=a.clone().appendTo("body"),m=c.width();c.remove();m!=a.width()&&a.parent().css("display","block");var c=f("div.jq-selectbox__select",e),g=f("div.jq-selectbox__select-text",
e),m=h.filter(":selected");m.length?g.text(m.text()):g.text(h.first().text());t();var d=f('<div class="jq-selectbox__dropdown" style="position: absolute; overflow: auto; overflow-x: hidden"><ul style="list-style: none">'+w+"</ul></div>");e.append(d);var k=f("li",d),l=0;k.each(function(){f(this).css({display:"inline-block","white-space":"nowrap"});f(this).width()>l&&(l=f(this).width());f(this).css({display:"block","white-space":"normal"})});e.width(a.outerWidth());l>d.width()&&d.width(l+d.width()-
k.width());a.css({position:"absolute",opacity:0,height:e.outerHeight()});var n=k.filter(".selected");1>n.length&&k.first().addClass("selected sel");var x=e.outerHeight();"auto"==d.css("left")&&d.css({left:0});"auto"==d.css("top")&&d.css({top:x});var r=k.outerHeight(),y=d.css("top");d.hide();n.length&&(h.first().text()!=m.text()&&e.addClass("changed"),e.data("jqfs-class",n.data("jqfs-class")),e.addClass(n.data("jqfs-class")));if(a.is(":disabled"))return e.addClass("disabled"),!1;c.click(function(){a.focus();
if(p.selectSmartPositioning){var c=f(window),l=e.offset().top,h=c.height()-x-(l-c.scrollTop()),g=p.selectVisibleOptions,n=6*r,m=r*g;0<g&&6>g&&(n=m);0>h||h<n?(d.height("auto").css({top:"auto",bottom:y}),d.outerHeight()>l-c.scrollTop()-20&&(d.height(Math.floor((l-c.scrollTop()-20)/r)*r),0<g&&6>g?d.height()>n&&d.height(n):6<g&&d.height()>m&&d.height(m))):h>n&&(d.height("auto").css({bottom:"auto",top:y}),d.outerHeight()>h-20&&(d.height(Math.floor((h-20)/r)*r),0<g&&6>g?d.height()>n&&d.height(n):6<g&&d.height()>
m&&d.height(m)))}f("div.jqselect").css({zIndex:p.singleSelectzIndex-1}).removeClass("opened focused");e.css({zIndex:p.singleSelectzIndex});d.is(":hidden")?(f("div.jq-selectbox__dropdown:visible").hide(),d.show(),e.addClass("opened")):(d.hide(),e.removeClass("opened"));k.filter(".selected").length&&d.scrollTop(d.scrollTop()+k.filter(".selected").position().top-d.innerHeight()/2+r/2);b(d);return!1});k.hover(function(){f(this).siblings().removeClass("selected")});var z=k.filter(".selected").text();k.filter(".selected").text();
k.filter(":not(.disabled):not(.optgroup)").click(function(){var b=f(this),c=b.text();if(z!=c){var l=b.index();b.is(".option")&&(l-=b.prevAll(".optgroup").length);b.addClass("selected sel").siblings().removeClass("selected sel");h.prop("selected",!1).eq(l).prop("selected",!0);z=c;g.text(c);h.first().text()!=c?e.addClass("changed"):e.removeClass("changed");e.data("jqfs-class")&&e.removeClass(e.data("jqfs-class"));e.data("jqfs-class",b.data("jqfs-class"));e.addClass(b.data("jqfs-class"));a.change()}d.hide();
e.removeClass("opened")});d.mouseout(function(){f("li.sel",d).addClass("selected")});a.change(function(){g.text(h.filter(":selected").text());k.removeClass("selected sel").not(".optgroup").eq(a[0].selectedIndex).addClass("selected sel")}).focus(function(){e.addClass("focused")}).blur(function(){e.removeClass("focused")}).bind("keydown keyup",function(b){g.text(h.filter(":selected").text());k.removeClass("selected sel").not(".optgroup").eq(a[0].selectedIndex).addClass("selected sel");38!=b.which&&
37!=b.which&&33!=b.which||d.scrollTop(d.scrollTop()+k.filter(".selected").position().top);40!=b.which&&39!=b.which&&34!=b.which||d.scrollTop(d.scrollTop()+k.filter(".selected").position().top-d.innerHeight()+r);13==b.which&&d.hide()});f(document).on("click",function(a){f(a.target).parents().hasClass("jq-selectbox")||"OPTION"==a.target.nodeName||(d.hide().find("li.sel").addClass("selected"),e.removeClass("focused opened"))})}function A(){var e=f("<div"+q+' class="jq-select-multiple jqselect'+s+'"'+
u+' style="display: inline-block; position: relative"></div>');a.css({margin:0,padding:0}).wrap('<div class="jq-selectbox-wrapper" style="display: inline-block; position: relative;"></div>').after(e);var c=a.clone().appendTo("body"),m=c.width();c.remove();m!=a.width()&&a.parent().css("display","block");t();e.append('<ul style="position: relative">'+w+"</ul>");var g=f("ul",e).css({"overflow-x":"hidden"}),d=f("li",e).attr("unselectable","on").css({"-webkit-user-select":"none","-moz-user-select":"none",
"-ms-user-select":"none","-o-user-select":"none","user-select":"none","white-space":"nowrap"}),c=a.attr("size"),m=g.outerHeight(),k=d.outerHeight();void 0!==c&&0<c?g.css({height:k*c}):g.css({height:4*k});m>e.height()&&(g.css("overflowY","scroll"),b(g),d.filter(".selected").length&&g.scrollTop(g.scrollTop()+d.filter(".selected").position().top));a.is(":disabled")?(e.addClass("disabled"),h.each(function(){f(this).is(":selected")&&d.eq(f(this).index()).addClass("selected")}),e.width(a.outerWidth()),
e.width(e.width()-(e.outerWidth()-e.width())),a.css({position:"absolute",opacity:0,height:e.outerHeight()})):(e.width(a.outerWidth()),e.width(e.width()-(e.outerWidth()-e.width())),a.css({position:"absolute",opacity:0,height:e.outerHeight()}),d.filter(":not(.disabled):not(.optgroup)").click(function(b){a.focus();e.removeClass("focused");var c=f(this);b.ctrlKey||c.addClass("selected");b.shiftKey||c.addClass("first");b.ctrlKey||b.shiftKey||c.siblings().removeClass("selected first");b.ctrlKey&&(c.is(".selected")?
c.removeClass("selected first"):c.addClass("selected first"),c.siblings().removeClass("first"));if(b.shiftKey){var g=!1,k=!1;c.siblings().removeClass("selected").siblings(".first").addClass("selected");c.prevAll().each(function(){f(this).is(".first")&&(g=!0)});c.nextAll().each(function(){f(this).is(".first")&&(k=!0)});g&&c.prevAll().each(function(){if(f(this).is(".selected"))return!1;f(this).not(".disabled, .optgroup").addClass("selected")});k&&c.nextAll().each(function(){if(f(this).is(".selected"))return!1;
f(this).not(".disabled, .optgroup").addClass("selected")});1==d.filter(".selected").length&&c.addClass("first")}h.prop("selected",!1);d.filter(".selected").each(function(){var a=f(this),b=a.index();a.is(".option")&&(b-=a.prevAll(".optgroup").length);h.eq(b).prop("selected",!0)});a.change()}),h.each(function(a){f(this).data("optionIndex",a)}),a.change(function(){d.removeClass("selected");var a=[];h.filter(":selected").each(function(){a.push(f(this).data("optionIndex"))});d.not(".optgroup").filter(function(b){return-1<
f.inArray(b,a)}).addClass("selected")}).focus(function(){e.addClass("focused")}).blur(function(){e.removeClass("focused")}),m>e.height()&&a.keydown(function(a){38!=a.which&&37!=a.which&&33!=a.which||g.scrollTop(g.scrollTop()+d.filter(".selected").position().top-k);40!=a.which&&39!=a.which&&34!=a.which||g.scrollTop(g.scrollTop()+d.filter(".selected:last").position().top-g.innerHeight()+2*k)}))}var h=f("option",a),w="";a.is("[multiple]")?A():v()};b();a.on("refresh",function(){a.next().remove();b()});
a.on("adaptiveWidth",function(){a.css({position:"static"});a.next().width(a.outerWidth());a.css({position:"absolute"})});f(window).on("resize",function(){a.trigger("adaptiveWidth")})}})})}})(jQuery);